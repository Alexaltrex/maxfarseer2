{"version":3,"sources":["Components/Sidebar/Sidebar.module.css","Components/Main/Login/Login.module.css","Components/Header/Header.module.css","App.module.css","Components/Main/Main.module.css","Components/Main/Profile/Profile.module.css","Components/common/Preloader/Preloader.module.css","assets/circles.svg","Components/Main/News/New/New.module.css","DAL/api.js","store/auth-reducer.js","store/news-reducer.js","store/store.js","Components/Sidebar/Sidebar.jsx","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","Components/Main/Login/Login.jsx","Components/Main/Login/LoginContainer.js","Components/common/Preloader/Preloader.jsx","Components/Main/Profile/Profile.jsx","Components/Main/Profile/ProfileContainer.jsx","Components/Main/News/New/New.jsx","Components/Main/News/News.jsx","Components/Main/News/NewsContainer.jsx","Components/Main/About/About.js","Components/Main/Main.jsx","Components/Main/MainContainer.jsx","App.js","index.js"],"names":["module","exports","instance","axios","baseURL","newsAPI","get","response","data","authAPI","email","password","post","userId","initialState","isAuth","loginStatus","errorText","userInfo","userInfoStatus","isLoading","setUserInfoStatus","type","toggleLoading","authReducer","state","action","stateInitial","news","newsReducer","rootReducers","combineReducers","auth","store","createStore","applyMiddleware","thunkMiddleware","window","Sidebar","props","className","style","sidebar","to","link","activeClassName","activeLink","Header","headerText","header","onClick","logout","login","HeaderContainer","connect","Login","useState","setEmail","setPassword","formIsValid","setFormIsValid","useEffect","status","onSubmit","event","preventDefault","length","onKeyPress","key","row","htmlFor","id","value","onChange","currentTarget","error","LoginContainer","dispatch","a","message","Preloader","preloader","src","alt","Profile","getUserInfo","city","languages","map","el","i","social","sort","b","label","href","target","process","ProfileContainer","New","new","title","text","News","newsElements","NewsContainer","About","Main","getNews","main","path","component","MainContainer","then","App","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.70e8e24f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__gyeIQ\",\"link\":\"Sidebar_link__2c7Rb\",\"activeLink\":\"Sidebar_activeLink__1xtoS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__1JH6N\",\"row\":\"Login_row__2dRoc\",\"error\":\"Login_error__1RL5u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1TDsJ\",\"login\":\"Header_login__3r_XY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1MDTS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__ti6oL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"social\":\"Profile_social__3sqkT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2Pcd2\"};","module.exports = __webpack_public_path__ + \"static/media/circles.1181204b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new\":\"New_new__3hy3N\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://mysterious-reef-29460.herokuapp.com/api/v1/'\r\n});\r\n\r\nexport const newsAPI = {\r\n    async getNews() {\r\n        let response = await instance.get('news')\r\n        return response.data;\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    async login(email, password) {\r\n        let response = await instance.post('validate', {email, password})\r\n            return response.data;\r\n    },\r\n    async getUserInfo(userId) {\r\n        let response = await instance.get(`user-info/${userId}`)\r\n        return response.data;\r\n    }\r\n}","import {authAPI} from \"../DAL/api\";\r\n\r\nconst SET_IS_AUTH = 'auth/SET-IS-AUTH';\r\nconst SET_USER_ID = 'auth/SET-USER-ID';\r\nconst LOGOUT = 'auth/LOGOUT';\r\nconst SET_LOGIN_STATUS = 'auth/SET-LOGIN-STATUS';\r\nconst SET_ERROR_TEXT = 'auth/SET-ERROR-TEXT';\r\nconst SET_USER_INFO = 'auth/SET-USER-INFO';\r\nconst SET_USER_INFO_STATUS = 'auth/SET-USER-INFO-STATUS';\r\nconst TOGGLE_LOADING = 'auth/TOGGLE_LOADING';\r\n\r\nlet initialState = {\r\n    isAuth: false,\r\n    email: null,// нужен ли?\r\n    password: null,// нужен ли?\r\n    userId: null,\r\n    loginStatus: null, // статус ответа с сервера при логинизации\r\n    errorText: null, // выводимый в компонетне Login тект ошибки\r\n    userInfo: null, // данные о пользователи\r\n    userInfoStatus: null, // статус запроса данных о пользователе\r\n    isLoading: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_IS_AUTH: {\r\n            return {...state, isAuth: action.isAuth}\r\n        }\r\n        case SET_USER_ID: {\r\n            return {...state, userId: action.userId}\r\n        }\r\n        case LOGOUT: {\r\n            return {...state, isAuth: false, userId: null}\r\n        }\r\n        case SET_LOGIN_STATUS: {\r\n            return {...state, loginStatus: action.loginStatus}\r\n        }\r\n        case SET_ERROR_TEXT: {\r\n            switch (action.errorText) {\r\n                case \"wrong_email_or_password\": {\r\n                    return {...state, errorText: 'Имя пользователя или пароль введены не верно'}\r\n                }\r\n                default:\r\n                    return state;\r\n            }\r\n        }\r\n        case SET_USER_INFO: {\r\n            return {...state, userInfo: action.userInfo}\r\n        }\r\n        case SET_USER_INFO_STATUS: {\r\n            return {...state, userInfoStatus: action.userInfoStatus}\r\n        }\r\n        case TOGGLE_LOADING: {\r\n            return {...state, isLoading: action.isLoading}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setIsAuth = (isAuth) => ({type: SET_IS_AUTH, isAuth});\r\nexport const setUserId = (userId) => ({type: SET_USER_ID, userId});\r\nexport const logout = () => ({type: LOGOUT});\r\nexport const setLoginStatus = (loginStatus) => ({type: SET_LOGIN_STATUS, loginStatus: loginStatus});\r\nexport const setErrorText = (errorText) => ({type: SET_ERROR_TEXT, errorText});\r\nexport const setUserInfo = (userInfo) => ({type: SET_USER_INFO, userInfo});\r\nexport const setUserInfoStatus = (userInfoStatus) => ({type: SET_USER_INFO_STATUS, userInfoStatus});\r\nexport const toggleLoading = (isLoading) => ({type: TOGGLE_LOADING, isLoading});\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password);\r\n    dispatch(setLoginStatus(data.status));\r\n    if (data.status === 'ok') {\r\n        dispatch(setIsAuth(true));\r\n        dispatch(setUserId(data.data.id));\r\n    } else {\r\n        dispatch(setErrorText(data.message));\r\n    }\r\n}\r\n\r\nexport const getUserInfo = (userId) => async (dispatch) => {\r\n    dispatch(toggleLoading(true));\r\n    let data = await authAPI.getUserInfo(userId);\r\n    if (data.status === 'ok') {\r\n        dispatch(setUserInfo(data.data));\r\n        dispatch(setUserInfoStatus('ok'));\r\n        dispatch(toggleLoading(false));\r\n    } else {\r\n        dispatch(setUserInfoStatus('err'));\r\n        dispatch(toggleLoading(false));\r\n    }\r\n\r\n}\r\n\r\nexport default authReducer;","import {newsAPI} from \"../DAL/api\";\r\n\r\nconst SET_NEWS = 'SET-NEWS';\r\nconst TOGGLE_LOADING = 'TOGGLE-LOADING';\r\n\r\nlet stateInitial = {\r\n    isLoading: false,\r\n    news: []\r\n};\r\n\r\nconst newsReducer = (state = stateInitial, action) => {\r\n    switch (action.type) {\r\n        case SET_NEWS: {\r\n            return {...state, news: action.news}\r\n        }\r\n\r\n        case TOGGLE_LOADING: {\r\n            return {...state, isLoading: action.isLoading}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setNews = (news) => ({type: SET_NEWS, news});\r\nexport const toggleLoading = (isLoading) => ({type: TOGGLE_LOADING, isLoading});\r\n\r\nexport const getNews = () => dispatch => {\r\n    dispatch(toggleLoading(true));\r\n    newsAPI.getNews()\r\n        .then(data => {\r\n            if (data.status === 'ok') {\r\n                dispatch(toggleLoading(false));\r\n                dispatch(setNews(data.data));\r\n            }\r\n        });\r\n};\r\n\r\nexport default newsReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport authReducer from \"./auth-reducer\";\r\nimport newsReducer from \"./news-reducer\";\r\n\r\nlet rootReducers = combineReducers({\r\n    auth: authReducer,\r\n    news: newsReducer\r\n});\r\n\r\nlet store = createStore(rootReducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport style from './Sidebar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Sidebar = (props) => {\r\n    return (\r\n        <nav className={style.sidebar}>\r\n            <NavLink to='/about' className={style.link} activeClassName={style.activeLink}>Описание</NavLink>\r\n            <NavLink to='/profile' className={style.link} activeClassName={style.activeLink}>Профиль</NavLink>\r\n            <NavLink to='/news' className={style.link} activeClassName={style.activeLink}>Новости</NavLink>\r\n            {/*<NavLink to='/login' className={style.link} activeClassName={style.activeLink}>Войти</NavLink>*/}\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    let headerText = (!props.isAuth) ? 'Войти' : 'Выйти';\r\n\r\n    const onClick = () => {\r\n        if (props.isAuth) {\r\n            props.logout();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <header className={style.header}>\r\n           <div onClick={onClick} className={style.login}>\r\n               <NavLink to='/login'>{headerText}</NavLink>\r\n           </div>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;","import {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../store/auth-reducer\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nconst HeaderContainer = connect(mapStateToProps, {logout})(Header);\r\n\r\nexport default HeaderContainer;","import React, {useEffect, useState} from 'react';\r\nimport style from './Login.module.css'\r\n\r\nconst Login = (props) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [formIsValid, setFormIsValid] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if(props.status === 'err'){\r\n            setPassword('');\r\n        }\r\n    }, [props.status]);\r\n\r\n    function validateForm() {\r\n        return email.length > 0 && password.length > 0;\r\n    }\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        // post запрос\r\n        if (validateForm()) {\r\n            setFormIsValid(true);\r\n            props.login(email, password);\r\n        } else {\r\n            setFormIsValid(false);\r\n        }\r\n\r\n    };\r\n\r\n    const onKeyPress = (event) => {\r\n        if (event.key === 'enter') {\r\n            onSubmit(event);\r\n        }\r\n    }\r\n    const onChangeEmail = (event) => {\r\n        setEmail(event.currentTarget.value);\r\n    };\r\n\r\n    const onChangePassword = (event) => {\r\n        setPassword(event.currentTarget.value);\r\n    };\r\n    return (\r\n        <form className={style.login}  onSubmit={onSubmit} onKeyPress={onKeyPress}>\r\n            <div className={style.row}>\r\n                <label htmlFor=\"email\">Email (max@test.com):</label>\r\n                <input id='email' type=\"text\" value={email} onChange={onChangeEmail}/>\r\n            </div>\r\n            <div className={style.row}>\r\n                <label htmlFor=\"password\">Password (12345):</label>\r\n                <input id='password' type=\"text\" value={password} onChange={onChangePassword}/>\r\n            </div>\r\n            <div className={style.row}>\r\n                <input type=\"submit\" value='Отправить'/>\r\n            </div>\r\n            {(props.loginStatus==='err') && <div className={style.error}>{props.errorText}</div>}\r\n            {!formIsValid && <div  className={style.error}>{'Невалидный email или password'}</div>}\r\n\r\n\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default Login;","import {connect} from \"react-redux\";\r\nimport Login from \"./Login\";\r\nimport {login} from \"../../../store/auth-reducer\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    //email: state.auth.email,\r\n    //password: state.auth.password,\r\n    loginStatus: state.auth.loginStatus,\r\n    errorText: state.auth.errorText\r\n});\r\n\r\nconst LoginContainer = connect(mapStateToProps, {login})(Login);\r\n\r\nexport default LoginContainer;\r\n\r\n","import React from 'react';\r\nimport style from './Preloader.module.css';\r\nimport preloader from './../../../assets/circles.svg'\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={style.preloader}>\r\n            <img src={preloader} alt=\"\"/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;\r\n\r\n","import React, {useEffect} from 'react';\r\nimport style from './Profile.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    useEffect(() => {\r\n        if (props.userId) {\r\n            props.getUserInfo(props.userId);\r\n        }\r\n    }, [props.userId]);\r\n\r\n    if (props.isLoading) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {props.userInfo && props.userInfoStatus === 'ok' && <div>\r\n                <div>\r\n                    <span>Город: </span>\r\n                    <span>{props.userInfo.city}</span>\r\n                </div>\r\n                <br/>\r\n                <div>\r\n                    <div>Знание языков:</div>\r\n                    <div>{props.userInfo.languages.map((el, i) => <div key={i}>{el}</div>)}</div>\r\n                </div>\r\n                <br/>\r\n                <div className={style.social}>\r\n                    {props.userInfo.social\r\n                        .sort((a, b) => {\r\n                            if (a.label === 'web') {\r\n                                return -1;\r\n                            }\r\n                            if (b.label === 'web') {\r\n                                return 1;\r\n                            }\r\n                            return 0;\r\n                        })\r\n                        .map((el, i) => <a key={i} href={el.link} target=\"_blank\">\r\n                            <img src={`${process.env.PUBLIC_URL}/${el.label}.png`} alt=\"\"/>\r\n                        </a>)}\r\n                </div>\r\n            </div>}\r\n            {props.userInfoStatus === 'err' && <div>Пользователь не найден</div>}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Profile;","import {getUserInfo} from \"../../../store/auth-reducer\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    userInfo: state.auth.userInfo,\r\n    userId: state.auth.userId,\r\n    userInfoStatus: state.auth.userInfoStatus,\r\n    isLoading: state.auth.isLoading\r\n\r\n})\r\n\r\nconst ProfileContainer = connect(mapStateToProps, {getUserInfo})(Profile);\r\n\r\nexport default ProfileContainer;","import React from 'react';\r\nimport style from './New.module.css';\r\n\r\nconst New = (props) => {\r\n    return (\r\n        <div className={style.new} >\r\n            <h2>{props.title}</h2>\r\n            <p>{props.text}</p>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default New;\r\n","import React from 'react';\r\nimport New from \"./New/New\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nconst News = (props) => {\r\n    let newsElements = props.news.map(el => <New key={el.id} title={el.title} text={el.text}/>);\r\n    if (props.isLoading) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>{newsElements}</div>\r\n            <div>Всего новостей {props.news.length}</div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default News;","import {connect} from \"react-redux\";\r\nimport News from \"./News\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    news: state.news.news,\r\n    isLoading: state.news.isLoading\r\n})\r\n\r\nconst NewsContainer = connect(mapStateToProps, {})(News);\r\n\r\nexport default NewsContainer;","import React from 'react';\r\n\r\nconst About = () => {\r\n    return (\r\n        <>\r\n            <p>\r\n                Вот <a\r\n                href=\"https://github.com/maxfarseer/tz-webinars/tree/tz-2-react-redux-router-async\">это</a> тестовое\r\n                задание\r\n            </p>\r\n            <p>React/Redux/React-Router. Асинхронные запросы, взаимодействие клиент-сервер, логинизация, обработка ошибок</p>\r\n\r\n        </>\r\n    )\r\n};\r\n\r\nexport default About;","import React, {useEffect} from 'react';\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport style from './Main.module.css';\r\nimport LoginContainer from \"./Login/LoginContainer\";\r\nimport ProfileContainer from \"./Profile/ProfileContainer\";\r\nimport NewsContainer from \"./News/NewsContainer\";\r\nimport About from \"./About/About\";\r\n\r\n\r\nconst Main = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.getNews();\r\n    }, []);\r\n\r\n    return (\r\n        <main className={style.main}>\r\n            <Switch>\r\n                <Route path='/about' component={About}/>\r\n                <Route path='/news' component={NewsContainer}/>\r\n                <Route path='/profile'>\r\n                    {props.isAuth ? <ProfileContainer/> : <Redirect to='/login'/>}\r\n                </Route>\r\n                {/*<Route path='/login' component={LoginContainer}/>*/}\r\n                <Route path='/login'>\r\n                    {!props.isAuth ? <LoginContainer/> : <Redirect to='/profile'/>}\r\n                </Route>\r\n            </Switch>\r\n        </main>\r\n    )\r\n};\r\n\r\nexport default Main;\r\n\r\n","import {connect} from \"react-redux\";\r\nimport {getNews} from \"../../store/news-reducer\";\r\nimport Main from \"./Main\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nconst MainContainer = connect(mapStateToProps, {getNews})(Main);\r\n\r\nexport default MainContainer;","import React from 'react';\nimport style from './App.module.css'\nimport Sidebar from \"./Components/Sidebar/Sidebar\";\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\nimport MainContainer from \"./Components/Main/MainContainer\";\n\nfunction App() {\n  return (\n    <div className={style.app}>\n      <HeaderContainer/>\n      <Sidebar/>\n      <MainContainer/>\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport {Provider} from \"react-redux\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport store from './store/store'\nimport App from \"./App\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root'));\n\n\n"],"sourceRoot":""}